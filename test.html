<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>임시 테스트</title>

<style>
body {
    margin:0;
    font-family: sans-serif;
    background:#f4f6fa;
    display:flex;
    justify-content:center;
}

.container{
    width:100%;
    max-width:480px;
    padding:20px;
}

.card{
    background:white;
    padding:25px;
    border-radius:20px;
    box-shadow:0 10px 25px rgba(0,0,0,0.08);
    text-align:center;
    transition:0.3s;
}

.progress-container{
    width:100%;
    height:10px;
    background:#e0e0e0;
    border-radius:20px;
    overflow:hidden;
    margin-bottom:10px;
}

.progress-bar{
    height:100%;
    width:0%;
    background:linear-gradient(90deg,#6a11cb,#2575fc);
    transition:0.3s;
}

img{
    width:100%;
    max-height:220px;
    object-fit:cover;
    border-radius:15px;
    margin:15px 0;
    background:#eee;
}

button{
    width:100%;
    padding:14px;
    margin:8px 0;
    border:none;
    border-radius:12px;
    font-size:16px;
    font-weight:bold;
    cursor:pointer;
}

.answer-btn{ background:#2575fc; color:white; }
.back-btn{ background:#ccc; }

.hidden{ display:none; }
</style>
</head>
<body>

<div class="container">

<div id="quizCard" class="card">
    <div class="progress-container">
        <div id="progressBar" class="progress-bar"></div>
    </div>
    <div id="progressText">1 / 15</div>

    <h2 id="questionText"></h2>
    <img id="questionImage">

    <button class="answer-btn" onclick="answer(0)"></button>
    <button class="answer-btn" onclick="answer(1)"></button>

    <button id="backBtn" class="back-btn hidden" onclick="goBack()">← 이전</button>
</div>

<div id="resultCard" class="card hidden">
    <h2 id="resultTitle"></h2>
    <img id="resultImage">
    <p id="resultDesc"></p>
</div>

</div>

<script>

let currentQuestion = 1;
let group = null;
let history = [];

const QUESTIONS = [
{ text:"탱이십니까? 쫄이십니까?", img:"", answers:["탱","쫄"] },
{ text:"임시 문항 2", img:"image/q2.jpg", answers:["임시1","임시2"] },
{ text:"임시 문항 3", img:"image/q3.jpg", answers:["임시1","임시2"] },
{ text:"임시 문항 4", img:"image/q4.jpg", answers:["임시1","임시2"] },
{ text:"임시 문항 5", img:"image/q5.jpg", answers:["임시1","임시2"] },
{ text:"임시 문항 6", img:"image/q6.jpg", answers:["임시1","임시2"] },
{ text:"임시 문항 7", img:"image/q7.jpg", answers:["임시1","임시2"] },
{ text:"임시 문항 8", img:"image/q8.jpg", answers:["임시1","임시2"] },
{ text:"임시 문항 9", img:"image/q9.jpg", answers:["임시1","임시2"] },
{ text:"임시 문항 10", img:"image/q10.jpg", answers:["임시1","임시2"] },
{ text:"임시 문항 11", img:"image/q11.jpg", answers:["임시1","임시2"] },
{ text:"임시 문항 12", img:"image/q12.jpg", answers:["임시1","임시2"] },
{ text:"임시 문항 13", img:"image/q13.jpg", answers:["임시1","임시2"] },
{ text:"임시 문항 14", img:"image/q14.jpg", answers:["임시1","임시2"] },
{ text:"임시 문항 15", img:"image/q15.jpg", answers:["임시1","임시2"] }
];

const A_RESULTS = [
{ title:"가암성당", img:"image/garm.png", desc:"가암성당" },
{ title:"아야코", img:"image/ayako.png", desc:"아야코" },
{ title:"우정", img:"image/oohjung.png", desc:"우정" }
];

const B_RESULTS = [
{ title:"머니머니패키지", img:"image/mmpakage.jpg", desc:"머니머니패키지" },
{ title:"필름 바이 에디", img:"image/f-eddy", desc:"필름 바이 에디" },
{ title:"필름 바이 스티브", img:"image/f-steve", desc:"필름 바이 스티브" },
{ title:"필름 바이 밥", img:"image/f-bob", desc:"필름 바이 밥" }
];

function loadQuestion(){
    const q = QUESTIONS[currentQuestion-1];
    document.getElementById("questionText").innerText = q.text;
    document.getElementById("questionImage").src = q.img;

    const btns = document.querySelectorAll(".answer-btn");
    btns[0].innerText = q.answers[0];
    btns[1].innerText = q.answers[1];

    updateProgress();
}

function updateProgress(){
    document.getElementById("progressText").innerText =
        currentQuestion + " / " + QUESTIONS.length;
    document.getElementById("progressBar").style.width =
        ((currentQuestion-1)/QUESTIONS.length)*100 + "%";
}

function answer(choice){
    history.push(choice);

    if(currentQuestion === 1){
        group = choice === 0 ? "A" : "B";
    }

    if(currentQuestion < QUESTIONS.length){
        currentQuestion++;
        document.getElementById("backBtn").classList.remove("hidden");
        loadQuestion();
    } else {
        showResult();
    }
}

function goBack(){
    if(currentQuestion > 1){
        history.pop();
        currentQuestion--;
        if(currentQuestion === 1){
            document.getElementById("backBtn").classList.add("hidden");
        }
        loadQuestion();
    }
}

function showResult(){
    document.getElementById("quizCard").classList.add("hidden");
    document.getElementById("resultCard").classList.remove("hidden");

    const results = group === "A" ? A_RESULTS : B_RESULTS;
    const randomResult = results[Math.floor(Math.random()*results.length)];

    document.getElementById("resultTitle").innerText = randomResult.title;
    document.getElementById("resultImage").src = randomResult.img;
    document.getElementById("resultDesc").innerText = randomResult.desc;
}

loadQuestion();

</script>
</body>
</html>
