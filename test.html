<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>μ„μ‹ ν…μ¤νΈ</title>

<style>
body {
    margin:0;
    font-family: sans-serif;
    background:#f4f6fa;
    display:flex;
    justify-content:center;
}

.container{
    width:100%;
    max-width:480px;
    padding:20px;
}

.card{
    background:white;
    padding:25px;
    border-radius:20px;
    box-shadow:0 10px 25px rgba(0,0,0,0.08);
    text-align:center;
    transition:0.3s;
}

.progress-container{
    width:100%;
    height:10px;
    background:#e0e0e0;
    border-radius:20px;
    overflow:hidden;
    margin-bottom:10px;
}

.progress-bar{
    height:100%;
    width:0%;
    background:linear-gradient(90deg,#6a11cb,#2575fc);
    transition:0.3s;
}

img{
    width:100%;
    max-height:800px;
    object-fit:contain;
    border-radius:15px;
    margin:15px 0;
    background:#eee;
}

button{
    width:100%;
    padding:14px;
    margin:8px 0;
    border:none;
    border-radius:12px;
    font-size:16px;
    font-weight:bold;
    cursor:pointer;
}

.answer-btn{ background:#2575fc; color:white; }
.back-btn{ background:#ccc; }

.hidden{ display:none; }
</style>
</head>
<body>

<div class="container">

<div id="quizCard" class="card">
    <div class="progress-container">
        <div id="progressBar" class="progress-bar"></div>
    </div>
    <div id="progressText">1 / 15</div>

    <h2 id="questionText"></h2>
    <img id="questionImage">

    <button class="answer-btn" onclick="answer(0)"></button>
    <button class="answer-btn" onclick="answer(1)"></button>

    <button id="backBtn" class="back-btn hidden" onclick="goBack()">β† μ΄μ „</button>
</div>

<div id="resultCard" class="card hidden">
    <h2 id="resultTitle"></h2>
    <img id="resultImage">
    <p id="resultDesc"></p>

   <button onclick="shareResult()" class="answer-btn">π“¤ κ³µμ ν•κΈ°</button>
    <button onclick="restartQuiz()" class="back-btn">π”„ μ²μμΌλ΅</button>
</div>

</div>

<script>

let currentQuestion = 1;
let group = null;
let history = [];

const QUESTIONS = [
{ text:"νƒ±μ΄μ‹­λ‹κΉ? μ«„μ΄μ‹­λ‹κΉ?", img:"", answers:["νƒ±","μ«„"] },
{ text:"μ„μ‹ λ¬Έν•­ 2", img:"", answers:["μ„μ‹1","μ„μ‹2"] },
{ text:"μ„μ‹ λ¬Έν•­ 3", img:"", answers:["μ„μ‹1","μ„μ‹2"] },
{ text:"μ„μ‹ λ¬Έν•­ 4", img:"", answers:["μ„μ‹1","μ„μ‹2"] },
{ text:"μ„μ‹ λ¬Έν•­ 5", img:"", answers:["μ„μ‹1","μ„μ‹2"] },
{ text:"μ„μ‹ λ¬Έν•­ 6", img:"", answers:["μ„μ‹1","μ„μ‹2"] },
{ text:"μ„μ‹ λ¬Έν•­ 7", img:"", answers:["μ„μ‹1","μ„μ‹2"] },
{ text:"μ„μ‹ λ¬Έν•­ 8", img:"", answers:["μ„μ‹1","μ„μ‹2"] },
{ text:"μ„μ‹ λ¬Έν•­ 9", img:"", answers:["μ„μ‹1","μ„μ‹2"] },
{ text:"λ°©μƒλ„¤μ»· μ‚¬λ‘ν•μ‹λ‚μ”", img:"image/bsnc.png", answers:["μ","μ"] }
];

const A_RESULTS = [
{ title:"κ°€μ•”μ„±λ‹Ή", img:"image/garm.png", desc:"κ°€μ•”μ„±λ‹Ή" },
{ title:"μ•„μ•Όμ½”", img:"image/ayako.png", desc:"μ•„μ•Όμ½”" },
{ title:"μ°μ •", img:"image/oohjung.png", desc:"μ°μ •" }
];

const B_RESULTS = [
{ title:"λ¨Έλ‹λ¨Έλ‹ν¨ν‚¤μ§€", img:"image/mmpakage.png", desc:"λ¨Έλ‹λ¨Έλ‹ν¨ν‚¤μ§€" },
{ title:"ν•„λ¦„ λ°”μ΄ μ—λ””", img:"image/f-eddy.png", desc:"ν•„λ¦„ λ°”μ΄ μ—λ””" },
{ title:"ν•„λ¦„ λ°”μ΄ μ¤ν‹°λΈ", img:"image/f-steve.png", desc:"ν•„λ¦„ λ°”μ΄ μ¤ν‹°λΈ" },
{ title:"ν•„λ¦„ λ°”μ΄ λ°¥", img:"image/f-bob.png", desc:"ν•„λ¦„ λ°”μ΄ λ°¥" }
];

function loadQuestion(){
    const q = QUESTIONS[currentQuestion-1];
    document.getElementById("questionText").innerText = q.text;
    document.getElementById("questionImage").src = q.img;

    const btns = document.querySelectorAll(".answer-btn");
    btns[0].innerText = q.answers[0];
    btns[1].innerText = q.answers[1];

    updateProgress();
}

function updateProgress(){
    document.getElementById("progressText").innerText =
        currentQuestion + " / " + QUESTIONS.length;
    document.getElementById("progressBar").style.width =
        ((currentQuestion-1)/QUESTIONS.length)*100 + "%";
}

function answer(choice){
    history.push(choice);

    if(currentQuestion === 1){
        group = choice === 0 ? "A" : "B";
    }

    if(currentQuestion < QUESTIONS.length){
        currentQuestion++;
        document.getElementById("backBtn").classList.remove("hidden");
        loadQuestion();
    } else {
        showResult();
    }
}

function goBack(){
    if(currentQuestion > 1){
        history.pop();
        currentQuestion--;
        if(currentQuestion === 1){
            document.getElementById("backBtn").classList.add("hidden");
        }
        loadQuestion();
    }
}

function showResult(){
    document.getElementById("quizCard").classList.add("hidden");
    document.getElementById("resultCard").classList.remove("hidden");

    const results = group === "A" ? A_RESULTS : B_RESULTS;
    const randomResult = results[Math.floor(Math.random()*results.length)];

    document.getElementById("resultTitle").innerText = randomResult.title;
    document.getElementById("resultImage").src = randomResult.img;
    document.getElementById("resultDesc").innerText = randomResult.desc;
}

loadQuestion();

function shareResult(){
    const title = document.getElementById("resultTitle").innerText;
    const text = document.getElementById("resultDesc").innerText;
    const url = window.location.href;

    if(navigator.share){
        navigator.share({
            title: title,
            text: text,
            url: url
        });
    } else {
        navigator.clipboard.writeText(url);
        alert("λ§ν¬κ°€ λ³µμ‚¬λμ—μµλ‹λ‹¤.");
    }
}

function restartQuiz(){
    currentQuestion = 1;
    group = null;
    history = [];

    document.getElementById("resultCard").classList.add("hidden");
    document.getElementById("quizCard").classList.remove("hidden");
    document.getElementById("backBtn").classList.add("hidden");

    loadQuestion();
}


</script>
</body>
</html>
